machine:
  environment:
    SLIMERJSLAUNCHER: $(which firefox)
    PATH: $HOME/slimerjs:$HOME/casperjs/bin:$PATH
checkout:
  post:
    - git submodule sync
    - git submodule update --init
test:
  pre:
    - curl -k -L -o slimerjs.tar.bz2 http://download.slimerjs.org/releases/0.9.6/slimerjs-0.9.6-linux-i686.tar.bz2
    - tar -jxf slimerjs.tar.bz2
    - mv slimerjs-0.9.6 $HOME/slimerjs
    - curl -k -L -o casperjs.zip https://github.com/n1k0/casperjs/zipball/1.1-beta3
    - unzip casperjs.zip
    - mv n1k0-casperjs-4f105a9 $HOME/casperjs
  override:
    - casperjs --engine=slimerjs --version
    - casperjs --engine=slimerjs test --pre=login.js tests/08_comparePlans_vis.js
